!function(){angular.module("myApp",["ngRoute","ngResource","gameService","satellizer","toastr","listController","mainController","signupController","addGameController","loginController"]).config(["$routeProvider","$locationProvider","$authProvider",function(t,e,o){function n(t,e,o){var n=t.defer();return e.isAuthenticated()?o.path("/"):n.resolve(),n.promise}n.$inject=["$q","$auth","$location"],t.when("/home",{templateUrl:"/views/partials/home.html",controller:"ListController",controllerAs:"lCtrl"}).when("/addGame",{templateUrl:"/views/partials/addGame.html",controller:"AddGameController",controllerAs:"addGameCtrl"}).when("/addGame/:id",{templateUrl:"/views/partials/addGame.html",controller:"AddGameController",controllerAs:"addGameCtrl"}).when("/signup",{templateUrl:"/views/partials/signup.html",controller:"SignupController",controllerAs:"signupCtrl",resolve:{skipIfLoggedIn:n}}).when("/login",{templateUrl:"/views/partials/login.html",controller:"LoginController",controllerAs:"login",resolve:{skipIfLoggedIn:n}}).when("/logout",{url:"/logout",template:null,controller:"LogoutCtrl"}).otherwise({redirectTo:"/home"}),o.facebook({clientId:"187463001628270"}),o.google({clientId:"720541124659-t91ku790c6mhqd6dcgmgtiijd3is8b3u.apps.googleusercontent.com"}),o.github({clientId:"43cfdd19ba5347ecba1c"}),o.linkedin({clientId:"75qly5p5bgwm8s"}),o.twitter({url:"/auth/twitter"}),e.html5Mode(!0)}])}();var app=angular.module("addGameController",[]);app.controller("AddGameController",["$location","Game","$routeParams",function(t,e,o){var n=o.id;this.game={};var r=this;"undefined"!=typeof n&&e.get({id:n},function(t){r.game=t}),this.addGame=function(){"undefined"!=typeof n?e.update({id:n},this.game,function(){t.path("/home")}):e.save(this.game,function(){t.path("/home")})}}]);var app=angular.module("listController",[]).controller("ListController",["$location","Game",function(t,e){this.gameList={},this.game={};var o=this;e.query(function(t){o.gameList=t}),this.deleteGame=function(t){e["delete"]({id:t},function(){o.gameList=o.gameList.filter(function(e){return e._id!=t})})},this.editGame=function(e){t.path("/addGame/"+e)},this.viewGame=function(t){this.game=this.gameList.filter(function(e){return e._id===t}),this.game=this.game[0],$("#myModal").modal()}}]),app=angular.module("loginController",[]);app.controller("LoginController",["$location","$auth","toastr",function(t,e,o){var n=this;this.login=function(){e.login(n.user).then(function(){o.success("You have successfully signed in!"),t.path("/")})["catch"](function(t){o.error(t.data.message,t.status)})},this.authenticate=function(n){e.authenticate(n).then(function(){o.success("You have successfully signed in with "+n+"!"),t.path("/")})["catch"](function(t){t.error?o.error(t.error):t.data?o.error(t.data.message,t.status):o.error(t)})}}]);var app=angular.module("mainController",[]);app.controller("MainController",["$location","$auth","$scope",function(t,e,o){o.isAuthenticated=function(){return e.isAuthenticated()}}]),app.controller("LogoutCtrl",["$location","$auth","toastr",function(t,e,o){e.isAuthenticated()&&e.logout().then(function(){o.info("You have been logged out"),t.path("/")})}]);var app=angular.module("signupController",[]);app.controller("SignupController",["$scope","$location","$auth","toastr",function(t,e,o,n){var r=this;this.signup=function(){o.signup(r.user).then(function(t){o.setToken(t),e.path("/"),n.info("You have successfully created a new account and have been signed-in")})["catch"](function(t){n.error(t.data.message)})}}]),angular.module("gameService",["ngResource"]).factory("Game",["$resource",function(t){return t("/api/games/:id",null,{update:{method:"PUT"}})}]);